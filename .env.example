# =============================================================================
# WebCrawler Pro - Environment Variables Example
# Copy this file to .env and fill in your values
# cp .env.example .env
# =============================================================================

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
POSTGRES_DB=webcrawler
POSTGRES_USER=webcrawler
POSTGRES_PASSWORD=changeme
DATABASE_URL=postgresql://webcrawler:changeme@postgres:5432/webcrawler

# =============================================================================
# Cache & Message Broker (Redis)
# =============================================================================
REDIS_URL=redis://redis:6379/0

# =============================================================================
# Application URLs
# =============================================================================
FRONTEND_URL=http://localhost:3000
CORS_ORIGINS=*  # wildcard safe behind Nginx
NEXT_PUBLIC_API_URL=/api

# =============================================================================
# Backend Settings
# =============================================================================
SECRET_KEY=your-super-secret-key-change-this-in-production
DEBUG=false
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ORIGINS=http://localhost:3000

# =============================================================================
# Celery Worker
# =============================================================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# =============================================================================
# Storage (S3 / MinIO - optional)
# =============================================================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=changeme
MINIO_ENDPOINT=http://minio:9000
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=changeme
AWS_S3_BUCKET=webcrawler-exports

# =============================================================================
# VPS / Domain Configuration
# =============================================================================
DOMAIN=example.com
ACME_EMAIL=admin@example.com

# Traefik Dashboard Auth (generate: htpasswd -nb admin yourpassword | sed -e 's/\$/\$\$/g')
TRAEFIK_DASHBOARD_AUTH=admin:$$apr1$$changeme$$placeholder

# =============================================================================
# MinIO Object Storage
# =============================================================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=changeme123
MINIO_BUCKET=webcrawler

# =============================================================================
# Portainer Docker UI
# =============================================================================
PORTAINER_ADMIN_PASSWORD=changeme123

# =============================================================================
# Security
# =============================================================================
SECRET_KEY=your-secret-key-here-change-this-generate-with-openssl-rand-hex-32

# =============================================================================
# Watchtower Auto-Update
# =============================================================================
WATCHTOWER_POLL_INTERVAL=86400
# Optional: Slack notifications for updates
SLACK_WEBHOOK_URL=

# App Port (single entry point via Nginx)
APP_PORT=44544

# Email Alerting (v0.7.0 - optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your@email.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=webcrawler@yourdomain.com

# =============================================================================
# v0.8.0 — JWT Authentication
# Generate: python3 -c "import secrets; print(secrets.token_hex(32))"
# =============================================================================
SECRET_KEY=changeme-replace-with-openssl-rand-hex-32-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=30

# =============================================================================
# v0.8.0 — Google Search Console OAuth2
# Create credentials at: https://console.cloud.google.com/apis/credentials
# Authorized redirect URI: http://localhost:44544/api/integrations/gsc/callback
# =============================================================================
GOOGLE_CLIENT_ID=your-google-oauth-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_REDIRECT_URI=http://localhost:44544/api/integrations/gsc/callback
INTERNAL_API_URL=http://backend:8000  # Docker internal URL for Next.js middleware
